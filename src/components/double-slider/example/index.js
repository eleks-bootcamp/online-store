function _createForOfIteratorHelper(e,t){var n,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DoubleSlider=function(){function a(){var s=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.min,t=void 0===t?100:t,n=e.max,n=void 0===n?200:n,r=e.formatValue,r=void 0===r?function(e){return e}:r,i=e.selected,i=void 0===i?{from:t,to:n}:i,o=e.precision,o=void 0===o?0:o,e=e.filterName,e=void 0===e?"":e;_classCallCheck(this,a),_defineProperty(this,"element",void 0),_defineProperty(this,"subElements",{}),_defineProperty(this,"onThumbPointerMove",function(e){var t,n=s.subElements.inner.getBoundingClientRect(),r=n.left,i=n.right,n=n.width;s.dragging===s.subElements.thumbLeft&&((r=(e.clientX-r+s.shiftX)/n)<0&&(r=0),r*=100,t=parseFloat(s.subElements.thumbRight.style.right),s.dragging.style.left=s.subElements.progress.style.left=(r=100<r+t?100-t:r)+"%",s.subElements.from.innerHTML=s.formatValue(s.getValue().from)),s.dragging===s.subElements.thumbRight&&((t=(i-e.clientX-s.shiftX)/n)<0&&(t=0),t*=100,100<(r=parseFloat(s.subElements.thumbLeft.style.left))+t&&(t=100-r),console.error(111),s.dragging.style.right=s.subElements.progress.style.right=t+"%",s.subElements.to.innerHTML=s.formatValue(s.getValue().to))}),_defineProperty(this,"onThumbPointerUp",function(){s.element.classList.remove("range-slider_dragging"),document.removeEventListener("pointermove",s.onThumbPointerMove),document.removeEventListener("pointerup",s.onThumbPointerUp),s.element.dispatchEvent(new CustomEvent("range-selected",{bubbles:!0,detail:{filterName:s.filterName,value:s.getValue()}}))}),this.min=t,this.max=n,this.formatValue=r,this.selected=i,this.precision=Math.pow(10,o),this.filterName=e,this.render()}return _createClass(a,[{key:"template",get:function(){var e=this.selected,t=e.from,e=e.to;return'<div class="range-slider">\n      <span data-element="from">'.concat(this.formatValue(t),'</span>\n      <div data-element="inner" class="range-slider__inner">\n        <span data-element="progress" class="range-slider__progress"></span>\n        <span data-element="thumbLeft" class="range-slider__thumb-left">\n          <svg width="6" height="18" viewBox="0 0 6 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M0.959114 4.55246L4.65304 0.992556C4.97059 0.686527 5.5 0.911567 5.5 1.35258V16.9297C5.5 17.3481 5.01686 17.5815 4.68917 17.3214L1.06751 14.4471C0.708988 14.1625 0.5 13.7298 0.5 13.2721V5.63253C0.5 5.2251 0.66574 4.83519 0.959114 4.55246Z" fill="white" stroke="#C2CFE0"/>\n          </svg>\n        </span>\n        <span data-element="thumbRight" class="range-slider__thumb-right">\n          <svg width="6" height="18" viewBox="0 0 6 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M0.959114 4.55246L4.65304 0.992556C4.97059 0.686527 5.5 0.911567 5.5 1.35258V16.9297C5.5 17.3481 5.01686 17.5815 4.68917 17.3214L1.06751 14.4471C0.708988 14.1625 0.5 13.7298 0.5 13.2721V5.63253C0.5 5.2251 0.66574 4.83519 0.959114 4.55246Z" fill="white" stroke="#C2CFE0"/>\n          </svg>\n        </span>\n      </div>\n      <span data-element="to">').concat(this.formatValue(e),"</span>\n    </div>")}},{key:"render",value:function(){var e=document.createElement("div");e.innerHTML=this.template,this.element=e.firstElementChild,this.element.ondragstart=function(){return!1},this.subElements=this.getSubElements(e),this.initEventListeners(),this.update()}},{key:"initEventListeners",value:function(){var t=this,e=this.subElements,n=e.thumbLeft,e=e.thumbRight;n.addEventListener("pointerdown",function(e){return t.onThumbPointerDown(e)}),e.addEventListener("pointerdown",function(e){return t.onThumbPointerDown(e)})}},{key:"getSubElements",value:function(e){var t,n={},r=_createForOfIteratorHelper(e.querySelectorAll("[data-element]"));try{for(r.s();!(t=r.n()).done;){var i=t.value;n[i.dataset.element]=i}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"remove",value:function(){this.element.remove()}},{key:"destroy",value:function(){this.remove(),document.removeEventListener("pointermove",this.onThumbPointerMove),document.removeEventListener("pointerup",this.onThumbPointerUp)}},{key:"update",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.selected.from,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.selected.to,n=this.max-this.min,r=Math.floor((e-this.min)/n*100)+"%",n=Math.floor((this.max-t)/n*100)+"%";this.subElements.progress.style.left=r,this.subElements.progress.style.right=n,this.subElements.thumbLeft.style.left=r,this.subElements.thumbRight.style.right=n,this.subElements.from.innerText=this.formatValue(e),this.subElements.to.innerText=this.formatValue(t)}},{key:"onThumbPointerDown",value:function(e){var t,n,r=e.target.closest("span");r&&(e.preventDefault(),t=(n=r.getBoundingClientRect()).left,n=n.right,r===this.subElements.thumbLeft?this.shiftX=n-e.clientX:this.shiftX=t-e.clientX,this.dragging=r,this.element.classList.add("range-slider_dragging"),document.addEventListener("pointermove",this.onThumbPointerMove),document.addEventListener("pointerup",this.onThumbPointerUp))}},{key:"getValue",value:function(){var e=this.max-this.min,t=this.subElements.thumbLeft.style.left,n=this.subElements.thumbRight.style.right,t=parseFloat(t)*e/100,n=parseFloat(n)*e/100;return{from:Math.round((this.min+t)*this.precision)/this.precision,to:Math.round((this.max-n)*this.precision)/this.precision}}},{key:"reset",value:function(){this.selected={from:this.min,to:this.max},this.update()}}]),a}();export{DoubleSlider as default};