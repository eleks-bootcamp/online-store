function _createForOfIteratorHelper(e,t){var n,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){o=!0,r=e},f:function(){try{i||null==a.return||a.return()}finally{if(o)throw r}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pagination=function(){function a(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.totalPages,t=void 0===t?10:t,e=e.page,e=void 0===e?1:e;_classCallCheck(this,a),_defineProperty(this,"element",void 0),_defineProperty(this,"start",0),_defineProperty(this,"pageIndex",0),_defineProperty(this,"subElements",{}),_defineProperty(this,"onPageChanged",function(e){var e=parseInt(e.detail,10),t=n.element.querySelectorAll('[data-element="page-link"]');n.pageIndex=e,t.forEach(function(e){return e.classList.remove("active")}),t[e].classList.add("active")}),this.totalPages=t,this.pageIndex=e-1,this.initialize()}return _createClass(a,[{key:"initialize",value:function(){this.render(),this.getSubElements(),this.addEventListeners(),this.update()}},{key:"getSubElements",value:function(){var e,t={},n=_createForOfIteratorHelper(this.element.querySelectorAll("[data-element]"));try{for(n.s();!(e=n.n()).done;){var a=e.value;t[a.dataset.element]=a}}catch(e){n.e(e)}finally{n.f()}this.subElements=t}},{key:"template",get:function(){return'\n    <nav class="os-pagination">\n      <a href="#" class="page-link previous" data-element="nav-prev">\n        <i class="bi bi-chevron-left"></i>\n      </a>\n\n      <ul class="page-list" data-element="pagination">\n\n      </ul>\n\n      <a href="#" class="page-link next" data-element="nav-next">\n        <i class="bi bi-chevron-right"></i>\n      </a>\n    </nav>\n    '}},{key:"goToPrevPage",value:function(){0<=this.pageIndex-1&&this.dispatchEvent(this.pageIndex-1)}},{key:"goToNextPage",value:function(){this.pageIndex+1<this.totalPages&&this.dispatchEvent(this.pageIndex+1)}},{key:"render",value:function(){var e=document.createElement("div");e.innerHTML=this.template,this.element=e.firstElementChild}},{key:"addEventListeners",value:function(){var t=this;this.element.addEventListener("pointerdown",function(e){var e=e.target.closest('[data-element^="nav-"]');e&&("nav-prev"===(e=e.dataset.element)&&t.goToPrevPage(),"nav-next"===e&&t.goToNextPage())}),this.element.addEventListener("pointerdown",function(e){e=parseInt(e.target.dataset.pageIndex,10);isNaN(e)||t.pageIndex===e||(t.pageIndex=e,t.dispatchEvent(e))}),document.addEventListener("page-changed",this.onPageChanged)}},{key:"update",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.totalPages,t=void 0===t?this.totalPages:t,e=e.page,e=void 0===e?this.pageIndex+1:e;this.totalPages=t,this.pageIndex=e-1,this.totalPages<1?this.subElements.pagination.innerHTML="No pagination":this.subElements.pagination.innerHTML=this.getPages()}},{key:"getPages",value:function(){var a=this;return new Array(this.totalPages).fill(!0).map(function(e,t){var n=t===a.pageIndex?"active":"";return'<li>\n        <a href="#" data-element="page-link" class="page-link '.concat(n,'" data-page-index="').concat(t,'">').concat(t+1,"</a>\n      </li>")}).join("")}},{key:"dispatchEvent",value:function(e){this.element.dispatchEvent(new CustomEvent("page-changed",{bubbles:!0,detail:e}))}},{key:"remove",value:function(){this.element&&this.element.remove()}},{key:"destroy",value:function(){this.remove(),document.removeEventListener("page-changed",this.onPageChanged)}}]),a}();export{Pagination as default};